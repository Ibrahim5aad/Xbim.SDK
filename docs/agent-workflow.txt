@docs\PRD.md
@docs\feature_list.json
@docs\claude-progress.txt

IMPORTANT EXECUTION MODE:
- You are running in NON-INTERACTIVE SCRIPT MODE.
- DO NOT wait for user approval prompts. DO NOT ask for permission to write files.
- If the environment prevents file creation/edits, FAIL FAST with a clear error message.
- Stream progress continuously. Do not wait until the end to output.

OUTPUT FORMAT REQUIREMENT:
While working, continuously stream a structured log using sections:
PLAN
ACTIONS (step-by-step as you do them)
FILES CHANGED
COMMANDS RUN
RESULTS

CRITICAL CONSTRAINT - ONE FEATURE ONLY:
You MUST implement exactly ONE feature and then STOP. Do not continue to the next feature.
After completing one feature successfully, commit and exit immediately.

HARD RULES:
1) Implement ONLY ONE feature item (one JSON entry in feature_list.json) then STOP.
2) Do NOT edit feature_list.json except to flip exactly one item's "passes" from false â†’ true when fully verified.
3) Do NOT declare success unless feedback loops pass and the feature was tested as applicable.
4) End the iteration with:
   - updated docs/claude-progress.txt (append entry)
   - a git commit with a descriptive message
5) Leave repo in CLEAN STATE (build/test passing; no broken main).
6) Follow industry best practices when designing and implementing APIs.
7) Add tests when required, create the tests projects if not there, separate unit and api tests 

SESSION STARTUP (do these first):
- Print pwd
- Read last 30 lines of docs/claude-progress.txt
- git log --oneline -20
- Run a basic smoke test: dotnet build Octopus.sln

SELECT WORK:
- Open docs/feature_list.json
- Find the FIRST item with "passes": false (highest priority)
- Implement it fully.

FEEDBACK LOOPS (must pass before committing):
- dotnet build Octopus.sln
- dotnet test Octopus.sln

PROGRESS LOGGING:
Append to docs/claude-progress.txt:
- Timestamp
- Feature item id + description
- Key decisions
- Files changed
- Commands run (build/test)
- Result (pass/fail)

EXIT CONDITION:
After completing ONE feature:
1) Commit with message format: feat(FEATURE-ID): description
2) Output: FEATURE COMPLETE: [feature-id]
3) STOP immediately. Do not start the next feature.

If ALL items in feature_list.json have "passes": true, output:
<promise>ALL FEATURES COMPLETE</promise>
